# autogenerated
.POSIX:

CC=cc
CFLAGS=-O2 -mtune=native
STREAM_ARRAY_SIZE=16777216

all: ../dist/bin/stream ../dist/tmp/analyze.ok

clean:
	rm -fr -- ../dist/bin/stream ../dist/tmp/analyze.ok ../dist/tmp/ext/stream_BUXaw-oFf_eHA7HFeSUb.o

../dist/bin/stream: ../dist/tmp/ext/stream_BUXaw-oFf_eHA7HFeSUb.o
	@d=`dirname '$@'` && mkdir -p "$$d"
	$(CC) $(CFLAGS) -o '$@' ../dist/tmp/ext/stream_BUXaw-oFf_eHA7HFeSUb.o

../dist/tmp/analyze.ok: data.json
	@d=`dirname '$@'` && mkdir -p "$$d"
	./main.py analyze fig-time.svg fig-rate.svg '$@' data.json

../dist/tmp/ext/stream_BUXaw-oFf_eHA7HFeSUb.o: ../ext/stream.c
	@d=`dirname '$@'` && mkdir -p "$$d"
	$(CC) $(CPPFLAGS) $(CFLAGS) '-DSTREAM_ARRAY_SIZE=$(STREAM_ARRAY_SIZE)' -c -o '$@' ../ext/stream.c

.PHONY: all clean
